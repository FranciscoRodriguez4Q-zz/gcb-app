 
<div class="-font--serif">
<!--   <div class="-font--plus-2">Vendor Service Country : Add/Update </div> -->
<!--   <div class="card card-default mb-3">
    <div class="card-header">
      <div class="card-header">
        <span *ngIf="!editFlag">Vendor Service Country : Create</span> 
        <span *ngIf="editFlag">Vendor Service Country : Modify</span> 
       </div>
    </div> -->
    <p-panel header="Vendor Service Country" class="ui-g-12">
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid">
        <div class="">
          <span *ngIf="!editFlag">Vendor Service Country : Create</span> 
          <span *ngIf="editFlag">Vendor Service Country : Modify</span> 
         </div>
     
<p-fieldset legend="Product Info">
    <div class="ui-g">
      <div class="ui-g-12 ui-md-6 ui-lg-4 productLabel">
        <div class="ui-g-4"><label class="label">Product<span class="required">*</span></label></div>
        <div class="ui-g-7">
          <p-dropdown 
          [options]="productReferenceDataList" 
          [(ngModel)]="vscDtoObj.productId"    
          placeholder="Select"   
          [autoWidth]="true"
          [style]="{'width': '100%' , 'position': 'relative' ,  'border-color':'#244364' ,'color': '#868e96'}"   
          [filter]="true" (click)="getServicetype()" 
          scrollHeight="150px">
        </p-dropdown>
        </div>
      </div>
      <div class="ui-g-12 ui-md-6 ui-lg-4">
        <div class="ui-g-4" style="text-align:right">
          <label class="label">Consumed In <span class="required">*</span></label></div>
        <div class="ui-g-7">
          <p-dropdown 
          [options]="countryCodeReferenceDataList" 
          [(ngModel)]="vscDtoObj.consumedInCountryCode"    
          placeholder="Select"   
          [autoWidth]="true"
          [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
          [filter]="true" 
          scrollHeight="150px">
        </p-dropdown>
        </div>
      </div>
    </div>
  </p-fieldset>
  <p-fieldset legend="Vendor Info">
    <div class="ui-g">
        <div class="ui-g-12 ui-md-6 ui-lg-3 productLabel">
            <div class="ui-g-5"><label class="label">Vendor<span class="required">*</span></label></div>
            <div class="ui-g-7">
              <p-dropdown 
              [options]="vendorEntityReferenceDataList" 
              [disabled]="editFlag"
              [(ngModel)]="vscDtoObj.vendorEntityId"    
              placeholder="Select"   
              [autoWidth]="true"
              [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
              [filter]="true" 
              scrollHeight="150px">
            </p-dropdown>
            </div>
          </div>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
              <div class="ui-g-5" style="text-align:right"><label class="label">Billing From<span class="required">*</span></label></div>
              <div class="ui-g-7">
                  <p-dropdown 
                  [options]="countryCodeReferenceDataList" 
                  [(ngModel)]="vscDtoObj.billedFromCountryCode"    
                  placeholder="Select"   
                  [autoWidth]="true"
                  [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
                  [filter]="true" (click)="getServicetype()" 
                  scrollHeight="150px">
                </p-dropdown>
              </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g-5"  style="text-align:right"><label class="label">Servicing From<span class="required">*</span></label></div>
                <div class="ui-g-7">
                    <p-dropdown 
                    [options]="countryCodeReferenceDataList" 
                    [(ngModel)]="vscDtoObj.servicedFromCountryCode"    
                    placeholder="Select"   
                    [autoWidth]="true"
                    [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
                    [filter]="true" 
                    scrollHeight="150px">
                  </p-dropdown>
                </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g-5"  style="text-align:right"><label class="label">Billing To<span class="required">*</span></label></div>
                <div class="ui-g-7">
                    <p-dropdown 
                    [options]="countryCodeReferenceDataList" 
                    [(ngModel)]="vscDtoObj.billedToCountryCode"    
                    placeholder="Select"   
                    [autoWidth]="true"
                    [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
                    [filter]="true" (click)="getServicetype()" 
                    scrollHeight="150px">
                  </p-dropdown>
                </div>
            </div>
    </div>
    <div class="ui-g">
        <div class="ui-g-12 ui-md-6 ui-lg-3 productLabel">
            <div class="ui-g-5">
              <label class="label">Vendor Product Prefix</label></div>
            <div class="ui-g-7">
                <input class="form-control" [(ngModel)]="vscDtoObj.vProductPrefix" (input)="getServicetype()">
            </div>
        </div>
          <div class="ui-g-12 ui-md-6 ui-lg-3">
              <div class="ui-g-5" style="text-align:right">
                <label class="label">Vendor Inv Desc</label></div>
              <div class="ui-g-7">
                  <input class="form-control"  [(ngModel)]="vscDtoObj.vInvoiceDesc">
              </div>
          </div>
          
    </div>
    
  </p-fieldset>
  <p-fieldset legend="Service Type Info">
      <div class="ui-g">
          <div class="ui-g-12 ui-md-6 ui-lg-3 productLabel">
            <div class="ui-g-5" ><label class="label">Service Type Name </label></div>
            <div class="ui-g-7">    
              <input class="form-control" [(ngModel)]="vscDtoObj.serviceTypeName" [disabled]="vscDtoObj.useSuggested">
            </div>
          </div> 
          <div class="ui-g-12 ui-md-6 ui-lg-3 productLabel">
            <div  class="ui-g-10" >
              <p-checkbox  label="Use Suggested Name" binary="true" labelStyleClass="chkLabel" [(ngModel)]="vscDtoObj.useSuggested" (onChange)="checkValue()"></p-checkbox><label class="label"></label>
            </div>
          </div>
          <div class="ui-g-12 ui-md-6 ui-lg-6">
            <div class="ui-g-5"  style="text-align:right">
              <label class="label">Suggested Service Type Name<span class="required">*</span></label></div>
            <div class="ui-g-7">
              {{vscDtoObj.suggestedServiceType }}
            
              &nbsp;&nbsp;
              <label class="serviceMessage">{{vscDtoObj.serviceTypeMessage}}</label>
            </div>
          </div>
      </div>
      <div class="ui-g">
          <div class="ui-g-12 ui-md-6 ui-lg-3 productLabel">
              <div class="ui-g-5"><label class="label">Billing Basis<span class="required">*</span></label></div>
              <div class="ui-g-7">
                  <p-dropdown 
                  [options]="billingReferenceDataList" 
                  [(ngModel)]="vscDtoObj.billingBasis"    
                  placeholder="Select"   
                  [autoWidth]="true"
                  [style]="{'width': '100%' , 'position': 'relative' , 'margin-top' : '-1px' , 'margin-left' : '1px', 'border-color':'#244364' ,'color': '#868e96'}"   
                  [filter]="true" 
                  scrollHeight="150px">
                </p-dropdown>
              </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-4">
                <div class="ui-g-6" style="text-align:right">
                  <label class="label">Suggested Offset Cost Center<span class="required">*</span></label></div>
                <div class="ui-g-6">
                    <input class="form-control"  [(ngModel)]="vscDtoObj.suggestedCostCenterDefault" >
                </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g-5" style="text-align:right">
                  <label class="label">UNSPSC</label></div>
                <div class="ui-g-7">
                    <input class="form-control" [(ngModel)]="vscDtoObj.unspscCode">
                </div>
            </div>
      </div>
    </p-fieldset>      
    <div class="ui-g">
        <div class="ui-g-12" style="text-align:right">
            <button class="ge-button -fill--solid" (click)="upsertVendorServiceCountry()">Submit</button>
            <button class="ge-button -fill--solid" (click)="clearAll()">Cancel</button>
            <app-file-download [dwnData]="vSCountryData" [colsHeader]="this.downloadCols" [fileName]="fileName"></app-file-download>

        </div>
    </div>
    <div class="ui-g">
      <label class="errorMessage">{{errorMessage}}</label>
      </div> 
 


 
<!-- <div class="ui-g">
    <div class="ui-g-12">
    <app-file-download [dwnData]="vSCountryData" [colsHeader]="this.downloadCols" [fileName]="fileName"></app-file-download>
    </div>
</div> -->
<div class="ui-g">
<div class="ui-g-12">
 <p-table #tt [columns]="cols" [value]="vendorSrCountryData" [scrollable]="true" [style]="{'margin-top':'2px','width':'100%'}" [rows]="10" [paginator]="true" [pageLinks]="3" [responsive]="true">
    <ng-template pTemplate="colgroup" let-columns>
        <colgroup>
            <col style="width:50px">
            <col *ngFor="let col of columns" [ngStyle]="{'width': col.width}">
        </colgroup>
    </ng-template>
    <ng-template pTemplate="header" let-columns>
        <tr>
          <th [ngStyle]="{'width': '40px'}">Modify</th>
            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [field]="col.field"></p-sortIcon>
            </th>
        </tr>
         <tr>
           <th></th>
            <th *ngFor="let col of columns" [ngSwitch]="col.field">
                <input [ngStyle]="{'width': '99%'}" *ngSwitchCase="col.field" pInputText type="text" (input)="tt.filter($event.target.value, col.field, 'contains')">
            </th>
        </tr> 
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
            <td [ngStyle]="{'width': '40px'}">
                 <div class="justify-content-center">
                    <a class="a-color" style="cursor:pointer;" (click)="showSelectedData(rowData['vendorServiceCountryId'])"><i class="fa fa-pencil-square-o fa-2x" ></i></a>
                    </div> 
<!--                 <p-tableRadioButton [value]="rowData" (click)="showSelectedData(rowData['vendorServiceCountryId'])" ></p-tableRadioButton>
 -->              </td>
            <td *ngFor="let col of columns" >
              <div *ngIf="col.field!='serviceTypeName'"> {{rowData[col.field]}}</div>
              <div *ngIf="col.field=='serviceTypeName'"> {{rowData[col.field]}} &nbsp;<a class="a-color" style="cursor:pointer;" (click)="openChargeBack(rowData['vendorServiceCountryId'])"><i class="fa fa-file-text" ></i></a></div>
            </td>
        </tr>
    </ng-template>
  </p-table>
</div>
</div>
<br/><br/>
</div>

<ng-template #content1 let-c="close" let-d="dismiss">
  <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Message</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
          <span aria-hidden="true">&times;</span>
      </button>
  </div>
  <div class="modal-body">
      <p class="text-center">{{popupErrorMessage}}</p>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="c('Save click'); ">Ok</button>
  </div>
</ng-template>
</p-panel>
</div>
